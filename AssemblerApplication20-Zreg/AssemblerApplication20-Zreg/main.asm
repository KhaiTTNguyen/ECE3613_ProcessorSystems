;
; AssemblerApplication20-Zreg.asm
;
; Created: 3/10/2021 11:16:31 AM
; Author : KhaiNguyen
;
/*
.ORG $200
DATA1: .DB 1,8,5,3
DATA2: .DB 28  ;DECIMAL(1C in hex)
DATA3: .DB 0b00110101  ;BINARY (35 in hex)
DATA4: .DB 0x39  ;HEX
DATA5: .DB 'Y'  ;single ASCII char
DATA6: .DB '2','0','0','5';ASCII numbers
DATA7: .DB "Hello Doc" ;ASCII string
here: jmp here
*/
/*
.ORG 0X00
 LDI ZH,HIGH(MYNAME<<1);Z REGISTER
 LDI ZL,LOW(MYNAME<<1)
 LDI XH,HIGH(0X0210);X REGISTER
 LDI XL,LOW(0X0210)
LDI R16,$FF
OUT DDRA,R16;PORTA IS OUTPUT
 LDI R18,4;4 LETTERS IN NAME
 LOOP:
 LPM R20,Z+	;GET DATA FROM FLASH
 ST X+,R20	;STORE IT IN SRAM
OUT PORTA,R20
;;CPI r20,0
;brne here
DEC R18	;COUNT DOWN
 BRNE LOOP	;BRANCH
 HERE: JMP HERE
.ORG $500
MYNAME: .DB "JOHN",0 ;ASCII string
*/

/*Write a program to read the following message from ROM and place it in data

RAM starting at Ox0200:

.ORG  Ox600

MYDATA:            . DB       "1-800-999-9999", 0*/
.ORG 0x00
 LDI ZH,HIGH(MYDATA<<1);Z REGISTER
 LDI ZL,LOW(MYDATA<<1)
 LDI XH,HIGH(0x0200);X REGISTER
 LDI XL,LOW(0x0200)
LDI R16,$FF
OUT DDRA,R16;PORTA IS OUTPUT

 LOOP:
 LPM R20,Z+	;GET DATA FROM FLASH - LPM/Load from Prog Mem
CPI r20,0
brne HERE 
ST X+,R20	;STORE IT IN SRAM
OUT PORTA,R20
DEC R18	;COUNT DOWN
 BRNE LOOP	;BRANCH
 HERE: JMP HERE
.ORG $600
MYDATA: .DB "1-800-999-9999",0 ;ASCII string